# 组件模块 (Component Module)

### 1. 模块简介
组件模块是 Matcha.js 的“模版库”。它允许你定义一些通用的元素（如页码、水印、Logo），并让它们在所有页面或指定页面中自动出现。
该模块的强大之处在于：
- **固定位置**：你可以把组件“钉”在屏幕的任意角落。
- **动态内容**：支持使用变量（如当前页码、总页数）。
- **智能逻辑**：支持条件判断和循环，甚至可以制作复杂的进度图表。

---

### 2. 模块使用 demo
在幻灯片开头定义组件，然后在具体页面中使用它：

```markdown
<!-- 1. 定义一个名为 "footer" 的组件 -->
<!-- define: footer, position=bottom-right -->
第 {{$slideNumber}} 页 / 共 {{$totalSlides}} 页
<!-- enddefine -->

# 正常内容
<!-- @footer -->

---

# 另一页
<!-- @footer: position=bottom-left --> 
<!-- 这一页把页码改到了左下角 -->
```

---

### 3. 模块的语法

#### 组件定义语法
```markdown
<!-- define: 组件名, position=默认位置 -->
这里写内容，可以用 {{变量名}}
<!-- enddefine -->
```

#### 组件使用语法
```markdown
<!-- @组件名: 参数1=值1, position=覆盖位置 -->
```

#### 位置参数说明

| 位置名 | 说明 | 位置名 | 说明 |
| :--- | :--- | :--- | :--- |
| `top-left` | 左上角 | `bottom-left` | 左下角 |
| `top` | 正上方 | `bottom` | 正下方 |
| `top-right` | 右上角 | `bottom-right` | 右下角 |
| `left` | 正左方 | `center` | 正中央 |

#### 内置变量

| 变量名 | 说明 |
| :--- | :--- |
| `{{$slideNumber}}` | 当前页码（从 1 开始） |
| `{{$totalSlides}}` | 幻灯片总页数 |
| `{{$slideIndex}}` | 当前页面索引（从 0 开始） |

---

### 4. 介绍模块的其他配置

- **高级逻辑控制**：
  - **条件判断**：`{{#if 变量名}}内容{{/if}}`
  - **相等判断**：`{{#eq 变量名 值}}相等时显示{{/eq}}`
  - **循环渲染**：`{{#repeat 次数}}内容 {{$i}}{{/repeat}}`（常用于制作分段进度条）。
- **智能避让**：核心系统会自动检测组件占用的空间，并调整幻灯片正文的留白（Padding），防止文字被页码或 Logo 遮挡。

